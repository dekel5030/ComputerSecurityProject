<!DOCTYPE html>
<html>
<head>
    <title>Forgot Password</title>
    <style>
        * {
            box-sizing: border-box;
        }

        html {
            background-color: #083b08;
            padding: 40px;
            height: 100%;
        }

        body {
            background-color: #fff0d5;
            padding: 6px;
            display: flex;
            height: 100%;
            margin: 0;
        }

        form {
            margin: auto;
            border-style: solid;
            padding: 30px;
            background: aliceblue;
        }

        button {
            min-width: 250px;
        }
    </style>
</head>
<body>

<!-- Forgot Password Form -->
<form method="post" id="forgotPasswordForm">
    {% csrf_token %}
    <div>
        <label>Enter your username: </label>
        <input type="text" id="forgotUsername" name="username" required>
    </div>
    <button type="submit">Submit</button>
</form>

<!-- Email Token Form (Initially Hidden) -->
<form method="post" id="emailTokenForm" style="display:none;">
    {% csrf_token %}
    <div>
        <label>Enter the token from your email: </label>
        <input type="text" id="emailToken" name="token" required>
    </div>
    <button type="submit">Submit Token</button>
</form>

<script>
    // Handling the form submission for username
    document.getElementById('forgotPasswordForm').addEventListener('submit', function(event) {
        event.preventDefault();
        // Here, you would send a request to the server to generate and send the token to the user's email.
        // Example: fetch request or AJAX to handle username submission.

        // After submitting the username, show the email token form:
        document.getElementById('forgotPasswordForm').style.display = 'none';
        document.getElementById('emailTokenForm').style.display = 'block';
    });

    // Handling the form submission for token
    document.getElementById('emailTokenForm').addEventListener('submit', function(event) {
        event.preventDefault();
        // Here, you would verify the token entered by the user.
        // If valid, allow them to reset the password.
        alert('Token verified! You can reset your password now.');
    });
</script>

</body>
</html>
